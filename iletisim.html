<!DOCTYPE html>
<html lang="tr">
<head>
    <!-- SEO Helper -->
<script src="seo-helper.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒ∞leti≈üim - Onur ƒ∞n≈üaat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Bu stil sadece mobil cihazlarda etkili olacak */
    @media (max-width: 768px) {
        /* Mobile-hide sƒ±nƒ±fƒ±na sahip t√ºm li elementlerini gizle */
        nav ul li.mobile-hide {
            display: none !important;
        }
        
        /* Nav i√ßindeki ul'yi yatay esnek kutu yap ve ortala */
        nav ul {
            display: flex !important;
            flex-direction: row !important;
            justify-content: space-between !important;
            align-items: center !important;
            flex-wrap: nowrap !important; /* Satƒ±r atlamayƒ± engelle */
            padding: 3px 0 !important;
            width: 100% !important;
        }
        
        /* Men√º √∂ƒüelerini daha kompakt hale getir */
        nav ul li {
            margin: 0 !important;
            flex: 0 0 auto !important;
        }
        
        /* Men√º √∂ƒüelerinin aralƒ±ƒüƒ±nƒ± ve boyutunu k√º√ß√ºlt */
        nav ul li a {
            padding: 4px 4px !important;
            font-size: 14px !important;
            white-space: nowrap !important;
        }
        
        /* Tema deƒüi≈ütiriciyi k√º√ß√ºlt */
        .theme-switch {
            transform: scale(0.8) !important;
            margin-left: -5px !important;
        }
         
    .theme-slider {
        transition: all 0.4s ease !important;
    }
    
    .slider-circle {
        transition: transform 0.4s ease !important;
    }
    
    .theme-slider-icon {
        transition: opacity 0.3s ease, transform 0.3s ease !important;
    }
    }
        /* Kesin hata mesajƒ± gizleme - t√ºm mesaj tipleri i√ßin */
.error-message, 
.alert-error, 
.load-error, 
div[class*="error"],
div[id*="error"],
div[class*="Error"],
div[id*="Error"],
p[class*="error"],
p[id*="error"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
}

/* Body etiketi i√ßindeki direkt text nodlarƒ±nƒ± kontrol et */
body > div:not(#header):not(nav):not(main):not(#footer):not(#map-container):not(.container):not(.contact-page) {
    display: none !important;
}
        /* Harita kontrol butonlarƒ± i√ßin stil */
        .map-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
            display: flex;
            gap: 5px;
        }

        .map-switch-btn {
            background: white;
            border: 2px solid rgba(0,0,0,0.2);
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
        }
        
        .map-switch-btn:hover {
            background: #f4f4f4;
            transform: translateY(-1px);
        }
        
        /* Tam ekran harita i√ßin stil */
        .map-fullscreen {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 9999;
            margin: 0 !important;
            padding: 0 !important;
        }

        .map-fullscreen #map {
            height: 100vh !important;
            width: 100vw !important;
            border-radius: 0 !important;
        }

        .exit-fullscreen-btn {
            position: absolute;
            top: 70px;
            right: 10px;
            background: white;
            border: 2px solid rgba(0,0,0,0.2);
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 14px;
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Hata mesajƒ±nƒ± gizle */
        .error-message {
            display: none !important;
        }
        
        /* Mobil g√∂r√ºn√ºm i√ßin stil */
        @media (max-width: 768px) {
            .map-controls {
                flex-direction: column;
            }
            
            .map-switch-btn {
                font-size: 12px;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <div id="header"></div>

    <nav>
    <ul>
        <!-- Sadece mobilde g√∂r√ºnecek olanlar -->
        <li class="always-show"><a href="index.html">Ana Sayfa</a></li>
        <li class="always-show"><a href="kategoriler.html">Kategoriler</a></li>
        <li class="always-show"><a href="urunler.html">√úr√ºnler</a></li>
        <li class="always-show"><a href="iletisim.html">ƒ∞leti≈üim</a></li>
        
        <!-- Mobilde gizlenecek olanlar -->
        <li class="mobile-hide"><a href="sepet.html">Sepetim (<span id="cart-count">0</span>)</a></li>
        <li class="mobile-hide"><a href="favoriler.html">Favorilerim</a></li>
        
        <!-- Tema deƒüi≈ütirme - her zaman g√∂ster -->
        <li class="theme-switch-wrapper always-show">
            <label class="theme-switch" for="theme-toggle">
                <input type="checkbox" id="theme-toggle" class="theme-checkbox">
                <div class="theme-slider">
                    <div class="slider-circle">
                        <span class="theme-slider-icon sun">‚òÄÔ∏è</span>
                        <span class="theme-slider-icon moon">üåô</span>
                    </div>
                </div>
            </label>
        </li>
    </ul>
</nav>

    <main class="contact-page">
        <h1>ƒ∞leti≈üim</h1>
        
        <div class="contact-container">
            <div class="contact-info">
                <h2>ƒ∞leti≈üim Bilgileri</h2>
                <div class="info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <p>Adres: Afyonkarahisar, T√ºrkiye</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-phone"></i>
                    <p>Tel: +90 546 620 7994</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-envelope"></i>
                    <p>Email: nurullah@onurinsaatyapi.com</p>
                </div>
            </div>

            <div class="contact-form">
                <h2>Bize Ula≈üƒ±n</h2>
                <form id="contactForm" action="https://formsubmit.co/karesort34@gmail.com" method="POST">
                    <div class="form-group">
                        <label for="name">Ad Soyad</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="subject">Konu</label>
                        <input type="text" id="subject" name="subject" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Mesaj</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    
                    <!-- FormSubmit i√ßin gerekli gizli alanlar -->
                    <input type="hidden" name="_subject" value="Onur ƒ∞n≈üaat Web Sitesi ƒ∞leti≈üim Formu">
                    <input type="hidden" name="_next" value="https://onurinsaat.com/tesekkurler.html">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="text" name="_honey" style="display:none">
                    
                    <button type="submit" class="submit-btn">G√∂nder</button>
                </form>
            </div>
        </div>

        <div id="map-container">
            <div id="map"></div>
            <div class="map-controls">
                <button onclick="switchToSatellite()" class="map-switch-btn">
                    <i class="fas fa-satellite"></i> Uydu G√∂r√ºnt√ºs√º
                </button>
                <button onclick="switchToMap()" class="map-switch-btn">
                    <i class="fas fa-map"></i> Normal Harita
                </button>
                <button onclick="toggleFullscreen()" class="map-switch-btn fullscreen-btn">
        <i class="fas fa-expand"></i> Tam Ekran
    </button>
            </div>
            <button id="directions-btn" class="directions-btn">
                <i class="fas fa-directions"></i> Yol Tarifi Al
            </button>
        </div>
    </main>

    <div id="footer"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="scripts.js"></script>
    <script>
    // Sayfa i√ßerik hatasƒ± mesajƒ±nƒ± gizle
    document.addEventListener('DOMContentLoaded', function() {
        // Hata mesajlarƒ±nƒ± gizle (varsa)
        const errorMessages = document.querySelectorAll('.error-message');
        errorMessages.forEach(msg => msg.style.display = 'none');
        
        // Header ve footer y√ºkleme hatalarƒ±nƒ± kontrol edip gizleme
        setTimeout(() => {
            const header = document.getElementById('header');
            const footer = document.getElementById('footer');
            
            if (header && (!header.children.length || header.innerHTML.includes('error'))) {
                header.innerHTML = '<div class="logo"><a href="index.html">Onur ƒ∞n≈üaat</a></div>';
            }
            
            if (footer && (!footer.children.length || footer.innerHTML.includes('error'))) {
                footer.innerHTML = '<div class="copyright"><p>&copy; 2025 Onur ƒ∞n≈üaat</p></div>';
            }
        }, 500);
        
        try {
            // Harita √∂gesini ba≈ülat
            initializeMap();
        } catch (error) {
            console.error("Harita ba≈ülatma hatasƒ±:", error);
            
            // Harita hatasƒ± durumunda statik bir harita g√∂ster
            const mapContainer = document.getElementById('map');
            if (mapContainer) {
                mapContainer.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <p>Harita y√ºklenemedi. L√ºtfen sayfayƒ± yenileyin.</p>
                        <button onclick="location.reload()">Yenile</button>
                    </div>
                `;
            }
        }
    });
    
    // Haritayƒ± ba≈ülatan fonksiyon
    function initializeMap() {
        // Global harita deƒüi≈ükeni
        window.mapInstance = L.map('map').setView([38.70760, 31.03403], 13);
        
        // Harita katmanlarƒ±nƒ± olu≈ütur
        const standardMap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            maxZoom: 15
        });
        
        const satelliteMap = L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],
            attribution: '&copy; Google',
            maxZoom: 19
        });
        
        // Varsayƒ±lan olarak standart haritayƒ± ekle
        satelliteMap.addTo(window.mapInstance);
        
        // ƒ∞≈üaretleyici ekle
        L.marker([38.70760, 31.03403]).addTo(window.mapInstance)
            .bindPopup('Onur ƒ∞n≈üaat Burada!')
            .openPopup();
        
        // Harita tipini deƒüi≈ütirme fonksiyonlarƒ±nƒ± global scope'a ekle
        window.switchToSatellite = function() {
            window.mapInstance.removeLayer(standardMap);
            window.mapInstance.addLayer(satelliteMap);
        }
        
        window.switchToMap = function() {
            window.mapInstance.removeLayer(satelliteMap);
            window.mapInstance.addLayer(standardMap);
        }
        
        // Tam ekran modunu a√ß/kapat fonksiyonu
        window.toggleFullscreen = function() {
            const mapContainer = document.getElementById('map-container');
            
            if (!mapContainer) {
                console.error('Map container bulunamadƒ±');
                return;
            }
            
            if (mapContainer.classList.contains('map-fullscreen')) {
                // Tam ekrandan √ßƒ±k
                mapContainer.classList.remove('map-fullscreen');
                document.body.style.overflow = 'auto'; // Sayfada kaydƒ±rmayƒ± etkinle≈ütir
                
                // √áƒ±kƒ±≈ü butonunu kaldƒ±r
                const exitBtn = document.querySelector('.exit-fullscreen-btn');
                if (exitBtn) exitBtn.remove();
                
                // Tam ekran butonunun simgesini g√ºncelle
                const fullscreenBtn = document.querySelector('.fullscreen-btn i');
                if (fullscreenBtn) {
                    fullscreenBtn.className = 'fas fa-expand';
                }
                
            } else {
                // Tam ekrana ge√ß
                mapContainer.classList.add('map-fullscreen');
                document.body.style.overflow = 'hidden'; // Sayfa kaydƒ±rmayƒ± devre dƒ±≈üƒ± bƒ±rak
                
                // √áƒ±kƒ±≈ü butonu ekle
                const exitBtn = document.createElement('button');
                exitBtn.className = 'exit-fullscreen-btn';
                exitBtn.innerHTML = '<i class="fas fa-compress"></i> Normal Boyuta D√∂n';
                exitBtn.onclick = toggleFullscreen;
                mapContainer.appendChild(exitBtn);
                
                // Tam ekran butonunun simgesini g√ºncelle
                const fullscreenBtn = document.querySelector('.fullscreen-btn i');
                if (fullscreenBtn) {
                    fullscreenBtn.className = 'fas fa-compress';
                }
            }
            
            // Harita boyutunu g√ºncelle (Leaflet i√ßin gerekli)
            setTimeout(function() {
                window.mapInstance.invalidateSize();
            }, 100);
        }
        
        // Yol tarifi butonuna tƒ±klama olayƒ± ekle
        const directionsBtn = document.getElementById('directions-btn');
        if (directionsBtn) {
            directionsBtn.addEventListener('click', function() {
                // Koordinatlar
                const lat = 38.70760;
                const lng = 31.03403;
                const locationName = "Onur ƒ∞n≈üaat";
                
                // Cihaz kontrol√º
                const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
                
                let url;
                if (isIOS) {
                    // iOS i√ßin Apple Maps
                    url = `https://maps.apple.com/?q=${locationName}&ll=${lat},${lng}`;
                } else {
                    // Android ve diƒüer cihazlar i√ßin Google Maps 
                    url = `https://www.google.com/maps/search/?api=1&query=${lat},${lng}`;
                }
                
                // URL'yi yeni sekmede a√ß
                window.open(url, '_blank');
            });
        }
    }
</script>
</body>
</html>
